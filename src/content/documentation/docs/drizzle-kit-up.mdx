import CodeTab from "@/components/markdown/CodeTab.astro";
import CodeTabs from "@/components/markdown/CodeTabs.astro";
import Section from "@/components/markdown/Section.astro";
import Tab from "@/components/markdown/Tab.astro";
import Tabs from "@/components/markdown/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import Npx from "@mdx/Npx.astro";

# `drizzle-kit up`

<Prerequisites>
- å¼€å§‹ä½¿ç”¨ Drizzle å’Œ `drizzle-kit` - [é˜…è¯»è¿™é‡Œ](/docs/get-started)
- Drizzle æ¨¡å¼åŸºç¡€ - [é˜…è¯»è¿™é‡Œ](/docs/sql-schema-declaration)
- æ•°æ®åº“è¿æ¥åŸºç¡€ - [é˜…è¯»è¿™é‡Œ](/docs/connect-overview)
- Drizzle è¿ç§»åŸºç¡€ - [é˜…è¯»è¿™é‡Œ](/docs/migrations)
- Drizzle Kit [æ¦‚è¿°](/docs/kit-overview) å’Œ [é…ç½®æ–‡ä»¶](/docs/drizzle-config-file)
- `drizzle-kit generate` å‘½ä»¤ - [é˜…è¯»è¿™é‡Œ](/docs/drizzle-kit-generate)
</Prerequisites>

`drizzle-kit up` å‘½ä»¤å…è®¸æ‚¨å°† drizzle æ¨¡å¼å¿«ç…§å‡çº§åˆ°æ–°ç‰ˆæœ¬ã€‚
æ¯å½“æˆ‘ä»¬å¼•å…¥å¯¹æ¨¡å¼çš„ json å¿«ç…§çš„ç ´åæ€§æ›´æ”¹å¹¶å‡çº§å†…éƒ¨ç‰ˆæœ¬æ—¶ï¼Œéƒ½ä¼šè¦æ±‚ä½¿ç”¨æ­¤å‘½ä»¤ã€‚

<br/>
<hr/>
<br/>

`drizzle-kit up` å‘½ä»¤è¦æ±‚æ‚¨æŒ‡å®š `dialect` å’Œæ•°æ®åº“è¿æ¥å‡­æ®ï¼Œ
æ‚¨å¯ä»¥é€šè¿‡ [drizzle.config.ts](/docs/drizzle-config-file) é…ç½®æ–‡ä»¶æˆ–é€šè¿‡ CLI é€‰é¡¹æä¾›å®ƒä»¬ã€‚

<CodeTabs items={["ä½¿ç”¨é…ç½®æ–‡ä»¶", "ä½œä¸º CLI é€‰é¡¹"]}>
<Section>
```ts {5,8}
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
});
```
```shell
npx drizzle-kit up
```
</Section>
```shell
npx drizzle-kit up --dialect=postgresql
```
</CodeTabs>

### ä¸€ä¸ªé¡¹ç›®ä¸­çš„å¤šä¸ªé…ç½®æ–‡ä»¶
æ‚¨å¯ä»¥åœ¨é¡¹ç›®ä¸­æ‹¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™åœ¨æ‚¨æœ‰å¤šä¸ªæ•°æ®åº“ç¯å¢ƒæˆ–åœ¨åŒä¸€é¡¹ç›®ä¸­ä½¿ç”¨å¤šä¸ªæ•°æ®åº“æ—¶éå¸¸æœ‰ç”¨ï¼š
<Npx>
  drizzle-kit migrate --config=drizzle-dev.config.ts
  drizzle-kit migrate --config=drizzle-prod.config.ts
</Npx>
```plaintext {5-6}
ğŸ“¦ <é¡¹ç›®æ ¹ç›®å½•>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

### æ‰©å±•çš„é…ç½®é€‰é¡¹åˆ—è¡¨
æˆ‘ä»¬æ¨èé€šè¿‡ [drizzle.config.ts](/docs/drizzle-config-file) æ–‡ä»¶é…ç½® `drizzle-kit`ï¼Œ
ä½†æ˜¯å¦‚æœéœ€è¦ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ CLI æä¾›æ‰€æœ‰é…ç½®é€‰é¡¹ï¼Œä¾‹å¦‚åœ¨ CI/CD æµæ°´çº¿ä¸­ç­‰ã€‚
<rem025/>
|           |            |                                                                         |
| :-------- | :--------- | :---------------------------------------------------------------------- |
| `dialect` | `å¿…éœ€`    | æ‚¨æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“æ–¹è¨€ã€‚å¯ä»¥æ˜¯ `postgresql`, `mysql` æˆ– `sqlite`      |
| `out`     |            | è¿ç§»æ–‡ä»¶å¤¹ï¼Œé»˜è®¤=`./drizzle`                                          |
| `config`  |            | é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤=`drizzle.config.ts`                               |
<br/>
<Npx>
drizzle-kit up --dialect=postgresql
drizzle-kit up --dialect=postgresql --out=./migrations-folder
</Npx>

![](@/assets/gifs/up_mysql.gif)

