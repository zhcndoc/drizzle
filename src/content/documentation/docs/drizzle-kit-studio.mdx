import CodeTab from "@/components/markdown/CodeTab.astro";
import CodeTabs from "@/components/markdown/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@/components/markdown/Tab.astro";
import Tabs from "@/components/markdown/Tabs.astro";
import Callout from "@/components/markdown/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import Npm from "@mdx/Npm.astro";
import Npx from "@mdx/Npx.astro";


# `drizzle-kit studio`
<Prerequisites>
- Drizzle Kit [概述](/docs/kit-overview) 和 [配置文件](/docs/drizzle-config-file)
- Drizzle Studio，我们的数据库浏览器 - [阅读这里](/drizzle-studio/overview)
</Prerequisites>

`drizzle-kit studio` 命令启动一个用于 [Drizzle Studio](/drizzle-studio/overview) 的服务器，托管在 [local.drizzle.studio](https://local.drizzle.studio)。 
它要求您通过 [drizzle.config.ts](/docs/drizzle-config-file) 配置文件指定数据库连接凭据。

默认情况下，它将在 `127.0.0.1:4983` 启动 Drizzle Studio 服务器。
<Section>
```ts {6}
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname"
  },
});
```
```shell
npx drizzle-kit migrate
```
</Section>

### 配置 `host` 和 `port`
默认情况下，Drizzle Studio 服务器在 `127.0.0.1:4983` 启动， 
您可以通过 CLI 选项配置 `host` 和 `port`。

<Npx>
drizzle-kit studio --port=3000
drizzle-kit studio --host=0.0.0.0
drizzle-kit studio --host=0.0.0.0 --port=3000
</Npx>


### 日志记录
您可以通过提供 `verbose` 标志来启用每个 SQL 语句的日志记录。

<Npx>
drizzle-kit studio --verbose
</Npx>

### Safari 和 Brave 支持
Safari 和 Brave 默认阻止对 localhost 的访问。 
您需要安装 [mkcert](https://github.com/FiloSottile/mkcert) 并生成自签名证书：

1. 按照 mkcert [安装步骤](https://github.com/FiloSottile/mkcert#installation) 操作
2. 运行 `mkcert -install`
3. 重启您的 `drizzle-kit studio`

### 可嵌入的 Drizzle Studio 版本
虽然本地开发的 Drizzle Studio 托管版本是免费使用的，并旨在丰富 Drizzle 生态系统， 
我们也提供 B2B 的可嵌入版 Drizzle Studio 供企业使用。

**Drizzle Studio 组件** - 是一个预打包的框架无关的 Drizzle Studio 网页组件， 
您可以将其嵌入到您的 UI 中，如 `React` `Vue` `Svelte` `VanillaJS` 等等。

这是一个极具力量的 UI 元素，可以提升您的产品 
如果您提供的是数据库作为 SaaS 或基于 SQL 的数据中心 SaaS 解决方案， 
或者用于私有的非客户可见的内部使用。

使用 Drizzle Studio 的数据库平台：
- [Turso](https://turso.tech/)，自 2023 年 10 月以来我们的第一位客户！
- [Neon](https://neon.tech/)，[发布帖子](https://neon.tech/docs/changelog/2024-05-24)
- [Hydra](https://https//www.hydra.so/)

使用 Drizzle Studio 的数据中心平台：
- [Nuxt Hub](https://hub.nuxt.com/)，Sébastien Chopin 的 [发布帖子](https://x.com/Atinux/status/1768663789832929520)
- [Deco.cx](https://deco.cx/)

您可以在 [这里](https://www.npmjs.com/package/@drizzle-team/studio) 阅读详细概述， 
如果您感兴趣 - 可以通过 [Twitter](https://x.com/drizzleorm) 的私信与我们联系，或在 [Discord #drizzle-studio](https://driz.link/discord) 频道中与我们交流。

### Drizzle Studio Chrome 扩展
Drizzle Studio [Chrome 扩展](https://chromewebstore.google.com/detail/drizzle-studio/mjkojjodijpaneehkgmeckeljgkimnmd) 
让您可以直接在其供应商管理面板中浏览您的 [PlanetScale](https://planetscale.com)、 
[Cloudflare](https://developers.cloudflare.com/d1/) 和 [Vercel Postgres](https://vercel.com/docs/storage/vercel-postgres) 
无服务器数据库！

### 限制
我们提供的 Drizzle Studio 托管版本旨在用于本地开发，而不适用于远程（VPS 等）。

如果您希望将 Drizzle Studio 部署到 VPS - 我们有一个 Drizzle Studio Gateway 的 alpha 版本， 
欢迎通过 [Twitter](https://x.com/drizzleorm) 的私信与我们联系，或在 [Discord #drizzle-studio](https://driz.link/discord) 频道中与我们询问。

### 它是开源的吗？
不是。Drizzle ORM 和 Drizzle Kit 完全开源，而 Studio 不是。

本地开发的 Drizzle Studio 永久免费使用，以丰富 Drizzle 生态系统， 
但如果开源一个版本会破坏我们提供 B2B 产品和实现盈利的能力，很不幸。