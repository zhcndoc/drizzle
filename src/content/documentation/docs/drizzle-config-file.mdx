import CodeTab from "@/components/markdown/CodeTab.astro";
import CodeTabs from "@/components/markdown/CodeTabs.astro";
import Section from "@/components/markdown/Section.astro";
import Tab from "@/components/markdown/Tab.astro";
import Tabs from "@/components/markdown/Tabs.astro";
import Callout from "@/components/markdown/Callout.astro";
import SchemaFilePaths from "@mdx/SchemaFilePaths.mdx"
import Prerequisites from "@mdx/Prerequisites.astro"
import Dialects from "@mdx/Dialects.mdx"
import Drivers from "@mdx/Drivers.mdx"
import DriversExamples from "@mdx/DriversExamples.mdx"
import Npx from "@mdx/Npx.astro"

# Drizzle Kit é…ç½®æ–‡ä»¶
<Prerequisites>
- å¼€å§‹ä½¿ç”¨ Drizzle å’Œ `drizzle-kit` - [é˜…è¯»è¿™é‡Œ](/docs/get-started)
- Drizzle æ¨¡å¼åŸºç¡€ - [é˜…è¯»è¿™é‡Œ](/docs/sql-schema-declaration)
- æ•°æ®åº“è¿æ¥åŸºç¡€ - [é˜…è¯»è¿™é‡Œ](/docs/connect-overview)
- Drizzle è¿ç§»åŸºç¡€ - [é˜…è¯»è¿™é‡Œ](/docs/migrations)
- Drizzle Kit [æ¦‚è¿°](/docs/kit-overview) ä»¥åŠ [é…ç½®æ–‡ä»¶](/docs/drizzle-config-file)
</Prerequisites>

Drizzle Kit å…è®¸æ‚¨åœ¨ `TypeScript` æˆ– `JavaScript` é…ç½®æ–‡ä»¶ä¸­å£°æ˜é…ç½®é€‰é¡¹ã€‚

<Section>
```plaintext {5}
ğŸ“¦ <é¡¹ç›®æ ¹ç›®å½•>
 â”œ ...
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ drizzle.config.ts
 â”” ğŸ“œ package.json
```
<CodeTabs items={["drizzle.config.ts", "drizzle.config.js"]}>
<CodeTab>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  out: "./drizzle",
});
```
</CodeTab>
<CodeTab>
```js
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  out: "./drizzle",
});
```
</CodeTab>
</CodeTabs>
</Section>

æ‰©å±•é…ç½®æ–‡ä»¶çš„ç¤ºä¾‹
```ts collapsable
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  out: "./drizzle",
  dialect: "postgresql",
  schema: "./src/schema.ts",

  driver: "pglite",
  dbCredentials: {
    url: "./database/",
  },

  extensionsFilters: ["postgis"],
  schemaFilter: "public",
  tablesFilter: "*",

  introspect: {
    casing: "camel",
  },

  migrations: {
    prefix: "timestamp",
    table: "__drizzle_migrations__",
    schema: "public",
  },

  entities: {
    roles: {
      provider: '',
      exclude: [],
      include: []
    }
  }

  breakpoints: true,
  strict: true,
  verbose: true,
});
```

### å¤šä¸ªé…ç½®æ–‡ä»¶
æ‚¨å¯ä»¥åœ¨é¡¹ç›®ä¸­æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™åœ¨æ‚¨æœ‰å¤šä¸ªæ•°æ®åº“ç¯å¢ƒã€å¤šä¸ªæ•°æ®åº“æˆ–åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æœ‰ä¸åŒæ•°æ®åº“æ—¶éå¸¸æœ‰ç”¨ï¼š
<Npx>
  drizzle-kit generate --config=drizzle-dev.config.ts
  drizzle-kit generate --config=drizzle-prod.config.ts
</Npx>
```plaintext {5-6}
ğŸ“¦ <é¡¹ç›®æ ¹ç›®å½•>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

### è¿ç§»æ–‡ä»¶å¤¹
`out` å‚æ•°è®©æ‚¨å®šä¹‰è¿ç§»æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œè¿™æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤æ˜¯ `drizzle`ã€‚  
è¿™éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºæ‚¨å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æœ‰è®¸å¤šé’ˆå¯¹ä¸åŒæ•°æ®åº“çš„ç‹¬ç«‹æ¶æ„ï¼Œ
å¹¶ä¸ºå®ƒä»¬è®¾ç½®ä¸åŒçš„è¿ç§»æ–‡ä»¶å¤¹ã€‚  
  
è¿ç§»æ–‡ä»¶å¤¹åŒ…å« `.sql` è¿ç§»æ–‡ä»¶å’Œ `_meta` æ–‡ä»¶å¤¹ï¼Œåè€…ç”± `drizzle-kit` ä½¿ç”¨ã€‚

<Section>
```plaintext {3}
ğŸ“¦ <é¡¹ç›®æ ¹ç›®å½•>
 â”œ ...
 â”œ ğŸ“‚ drizzle
 â”‚ â”œ ğŸ“‚ _meta
 â”‚ â”œ ğŸ“œ user.ts 
 â”‚ â”œ ğŸ“œ post.ts 
 â”‚ â”” ğŸ“œ comment.ts 
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ drizzle.config.ts
 â”” ğŸ“œ package.json
```
```ts {5}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql", // "mysql" | "sqlite" | "postgresql"
  schema: "./src/schema/*",
  out: "./drizzle",
});
```
</Section>

## ---

### `dialect`
<rem025/>

æ‚¨ä½¿ç”¨çš„æ•°æ®åº“çš„æ–¹è¨€ 
|               |                                                 |
| :------------ | :-----------------------------------            |
| ç±»å‹         | <Dialects/>                                     |
| é»˜è®¤        | --                                     |
| å‘½ä»¤        | `generate` `migrate` `push` `pull` `check` `up` |

<rem025/>
```ts {4}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "mysql", 
});
```


### `schema`
<rem025/>

[`glob`](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs)
 åŸºäºè·¯å¾„çš„ Drizzle æ¨¡å¼æ–‡ä»¶æˆ–åŒ…å«æ¨¡å¼æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚
|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string` `string[]` |
| é»˜è®¤        | --                    |
| å‘½ä»¤        | `generate` `push`    |

<rem025/>
<SchemaFilePaths />


### `out`
<rem025/>

å®šä¹‰æ‚¨çš„ SQL è¿ç§»æ–‡ä»¶ã€æ¨¡å¼çš„ json å¿«ç…§ä»¥åŠæ¥è‡ª `drizzle-kit pull` å‘½ä»¤çš„ `schema.ts` çš„è¾“å‡ºæ–‡ä»¶å¤¹ã€‚
|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string` `string[]` |
| é»˜è®¤        | `drizzle`                    |
| å‘½ä»¤        | `generate` `migrate` `push` `pull` `check` `up`    |

<rem025/>
```ts {4}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  out: "./drizzle", 
});
```

### `driver`
<rem025/>

Drizzle Kit ä¼šæ ¹æ®æä¾›çš„ `dialect` è‡ªåŠ¨é€‰æ‹©å½“å‰é¡¹ç›®ä¸­å¯ç”¨çš„æ•°æ®åº“é©±åŠ¨ï¼Œ
ä½†æŸäº›ä¾›åº”å•†ç‰¹å®šçš„æ•°æ®åº“éœ€è¦ä¸åŒçš„è¿æ¥å‚æ•°å­é›†ã€‚

`driver` é€‰é¡¹å…è®¸æ‚¨æ˜ç¡®é€‰æ‹©è¿™äº›ä¾‹å¤–é©±åŠ¨ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | <Drivers/> |
| é»˜è®¤        | --                    |
| å‘½ä»¤        | `migrate` `push` `pull`   |

<rem025/>

<DriversExamples />

## ---

### `dbCredentials`
<rem025/>

ä»¥ `url` çš„å½¢å¼æä¾›æ•°æ®åº“è¿æ¥å‡­æ®ï¼Œ
`user:password@host:port/db` å‚æ•°æˆ–ç‰¹å®šé©±åŠ¨ï¼ˆ<Drivers/>ï¼‰çš„è¿æ¥é€‰é¡¹ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | é©±åŠ¨è¿æ¥é€‰é¡¹çš„è”åˆ |
| é»˜è®¤       | --                    |
| å‘½ä»¤      | `migrate` `push` `pull`   |

<rem025/>

<CodeTabs items={["PostgreSQL", "MySQL", "SQLite", "Turso", "Cloudflare D1", "AWS Data API", "PGLite"]}>
<Section>
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "postgresql",
  dbCredentials: {
    url: "postgres://user:password@host:port/db",
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

// é€šè¿‡è¿æ¥å‚æ•°
export default defineConfig({
  dialect: "postgresql",
  dbCredentials: {
    host: "host",
    port: 5432,
    user: "user",
    password: "password",
    database: "dbname",
    ssl: true, // å¯ä»¥æ˜¯å¸ƒå°”å€¼ | "require" | "allow" | "prefer" | "verify-full" | node:tls ä¸­çš„é€‰é¡¹
  }
})
```
</Section>
<Section>
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "mysql",
  dbCredentials: {
    url: "postgres://user:password@host:port/db",
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

// é€šè¿‡è¿æ¥å‚æ•°
export default defineConfig({
  dialect: "mysql",
  dbCredentials: {
    host: "host",
    port: 5432,
    user: "user",
    password: "password",
    database: "dbname",
    ssl: "...", // å¯ä»¥æ˜¯: string | SslOptions (æ¥è‡ª mysql2 åŒ…çš„ ssl é€‰é¡¹)
  }
})
```
</Section>
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "sqlite",
  dbCredentials: {
    url: ":memory:", // å†…å­˜æ•°æ®åº“
    // æˆ–
    url: "sqlite.db", 
    // æˆ–
    url: "file:sqlite.db" // file: å‰ç¼€æ˜¯ libsql æ‰€éœ€çš„
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "turso",
  dbCredentials: {
    url: "libsql://acme.turso.io" // è¿œç¨‹ Turso æ•°æ®åº“ url
    authToken: "...",

    // æˆ–å¦‚æœæ‚¨éœ€è¦æœ¬åœ°æ•°æ®åº“

    url: ":memory:", // å†…å­˜æ•°æ®åº“
    // æˆ–
    url: "file:sqlite.db", // file: å‰ç¼€æ˜¯ libsql æ‰€éœ€çš„
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "sqlite",
  driver: "d1-http",
  dbCredentials: {
    accountId: "",
    databaseId: "",
    token: "",
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "postgresql",
  driver: "aws-data-api",
  dbCredentials: {
    database: "database",
    resourceArn: "resourceArn",
    secretArn: "secretArn",
  },
});
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "postgresql",
  driver: "pglite",
  dbCredentials: {
    url: "./database/", // æ•°æ®åº“æ–‡ä»¶å¤¹è·¯å¾„
  }
})
```
</CodeTabs>

### `migrations`
<rem025/>

è¿è¡Œ `drizzle-kit migrate` æ—¶ï¼ŒDrizzle ä¼šåœ¨æ‚¨çš„æ•°æ®åº“ä¸­è®°å½•æˆåŠŸåº”ç”¨è¿ç§»çš„æ—¥å¿—ï¼Œ
åä¸º `__drizzle_migrations` çš„æ—¥å¿—è¡¨åœ¨ `public` æ¨¡å¼ä¸‹ï¼ˆä»…é€‚ç”¨äº PostgreSQLï¼‰ã€‚

`migrations` é…ç½®é€‰é¡¹è®©æ‚¨å¯ä»¥æ›´æ”¹è¿ç§»æ—¥å¿— `table` åç§°å’Œ `schema`ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `{ table: string, schema: string }` |
| é»˜è®¤       | `{ table: "__drizzle_migrations", schema: "drizzle" }`                    |
| å‘½ä»¤      | `migrate`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  migrations: {
    table: 'my-migrations-table', // é»˜è®¤æ˜¯ `__drizzle_migrations`
    schema: 'public', // ä»…åœ¨ PostgreSQL ä¸­ä½¿ç”¨ï¼Œé»˜è®¤æ˜¯ `drizzle`
  },
});
```

### `introspect`
<rem025/>

`drizzle-kit pull` å‘½ä»¤çš„é…ç½®ã€‚

`casing` è´Ÿè´£ä»£ç ä¸­çš„åˆ—é”®å¤§å°å†™

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `{ casing: "preserve" \| "camel" }` |
| é»˜è®¤       | `{ casing: "camel" }`                    |
| å‘½ä»¤      | `pull`   |

<rem025/>

<CodeTabs items={["camel", "preserve"]}>
<Section>
```ts
import * as p from "drizzle-orm/pg-core"

export const users = p.pgTable("users", {
  id: p.serial(),
  firstName: p.text("first-name"),
  lastName: p.text("LastName"),
  email: p.text(),
  phoneNumber: p.text("phone_number"),
});
```
```sql
SELECT a.attname AS column_name, format_type(a.atttypid, a.atttypmod) as data_type FROM pg_catalog.pg_attribute a;
```
``` 
 column_name   | data_type        
---------------+------------------------
 id            | serial
 first-name    | text
 LastName      | text
 email         | text
 phone_number  | text
```
</Section>
<Section>
```ts
import * as p from "drizzle-orm/pg-core"

export const users = p.pgTable("users", {
  id: p.serial(),
  "first-name": p.text("first-name"),
  LastName: p.text("LastName"),
  email: p.text(),
  phone_number: p.text("phone_number"),
});
```
```sql
SELECT a.attname AS column_name, format_type(a.atttypid, a.atttypmod) as data_type FROM pg_catalog.pg_attribute a;
```
``` 
 column_name   | data_type        
---------------+------------------------
 id            | serial
 first-name    | text
 LastName      | text
 email         | text
 phone_number  | text
```
</Section>
</CodeTabs>


## --- 

### `tablesFilter`
<Callout>
å¦‚æœæ‚¨æƒ³åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­è¿è¡Œå¤šä¸ªé¡¹ç›® - æŸ¥çœ‹ [æˆ‘ä»¬çš„æŒ‡å—](/docs/goodies#multi-project-schema)ã€‚
</Callout>
<rem025/>
`drizzle-kit push` å’Œ `drizzle-kit pull` é»˜è®¤ä¼šç®¡ç† `public` æ¨¡å¼ä¸‹çš„æ‰€æœ‰è¡¨ã€‚
æ‚¨å¯ä»¥é€šè¿‡ `tablesFilters`ã€`schemaFilter` å’Œ `extensionFilters` é€‰é¡¹é…ç½®è¡¨ã€æ¨¡å¼å’Œæ‰©å±•çš„åˆ—è¡¨ã€‚

`tablesFilter` é€‰é¡¹è®©æ‚¨æŒ‡å®šåŸºäº [`glob`](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs) çš„è¡¨åè¿‡æ»¤ï¼Œ
ä¾‹å¦‚ `["users", "user_info"]` æˆ–è€… `"user*"`

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string` `string[]` |
| é»˜è®¤       | --                    |
| å‘½ä»¤      | `generate` `push` `pull`   |

<rem025/>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  tablesFilter: ["users", "posts", "project1_*"],
});
```

### `schemaFilter`
<Callout>
å¦‚æœæ‚¨æƒ³åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­è¿è¡Œå¤šä¸ªé¡¹ç›® - æŸ¥çœ‹ [æˆ‘ä»¬çš„æŒ‡å—](/docs/goodies#multi-project-schema)ã€‚
</Callout>

<rem025/>
`drizzle-kit push` å’Œ `drizzle-kit pull` é»˜è®¤ä¼šç®¡ç† `public` æ¨¡å¼ä¸‹çš„æ‰€æœ‰è¡¨ã€‚
æ‚¨å¯ä»¥é€šè¿‡ `tablesFilters`ã€`schemaFilter` å’Œ `extensionFilters` é€‰é¡¹é…ç½®è¡¨ã€æ¨¡å¼å’Œæ‰©å±•çš„åˆ—è¡¨ã€‚

`schemaFilter` é€‰é¡¹è®©æ‚¨æŒ‡å®š Drizzle Kit è¦ç®¡ç†çš„æ¨¡å¼åˆ—è¡¨

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string[]` |
| é»˜è®¤       | `["public"]`                    |
| å‘½ä»¤      | `generate` `push` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  schemaFilter: ["public", "schema1", "schema2"],
});
```

### `extensionsFilters`
<rem025/>

æŸäº›æ‰©å±•å¦‚ [`postgis`](https://postgis.net/)ï¼Œåœ¨æ•°æ®åº“ä¸­å®‰è£…åï¼Œä¼šåœ¨å…¬å…±æ¨¡å¼ä¸­åˆ›å»ºå…¶è‡ªå·±çš„è¡¨ã€‚
è¿™äº›è¡¨å¿…é¡»è¢« `drizzle-kit push` æˆ– `drizzle-kit pull` å¿½ç•¥ã€‚

`extensionsFilters` é€‰é¡¹å…è®¸æ‚¨å£°æ˜ä¸€ä¸ªå®‰è£…æ‰©å±•çš„åˆ—è¡¨ï¼Œä»¥ä¾¿ Drizzle Kit å¿½ç•¥å…¶åœ¨æ¨¡å¼ä¸­çš„è¡¨ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `["postgis"]` |
| é»˜è®¤       | `[]`                    |
| å‘½ä»¤      | `push` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  extensionsFilters: ["postgis"],
});
```

## ---

### `entities`

æ­¤é…ç½®ç”¨äºè®¾ç½®æ•°æ®åº“ä¸­ç‰¹å®š `å®ä½“` çš„ç®¡ç†è®¾ç½®ã€‚

ç›®å‰ï¼Œå®ƒä»…åŒ…æ‹¬ `è§’è‰²`ï¼Œä½†æœ€ç»ˆæ‰€æœ‰æ•°æ®åº“å®ä½“å°†è¿ç§»åˆ°è¿™é‡Œï¼Œä¾‹å¦‚ `è¡¨`ã€`æ¨¡å¼`ã€`æ‰©å±•`ã€`å‡½æ•°`ã€`è§¦å‘å™¨` ç­‰ã€‚

#### `roles`

<rem025/>

å¦‚æœæ‚¨ä½¿ç”¨ Drizzle Kit æ¥ç®¡ç†æ‚¨çš„æ¶æ„ï¼Œç‰¹åˆ«æ˜¯å®šä¹‰çš„è§’è‰²ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€äº›è§’è‰²æœªåœ¨ Drizzle æ¶æ„ä¸­å®šä¹‰çš„æƒ…å†µã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ› Drizzle Kit è·³è¿‡é‚£äº› `roles`ï¼Œè€Œæ— éœ€åœ¨æ‚¨çš„ Drizzle æ¶æ„ä¸­é€ä¸€å†™å‡ºæ¯ä¸ªè§’è‰²å¹¶ç”¨ `.existing()` æ ‡è®°ã€‚

`roles` é€‰é¡¹è®©æ‚¨å¯ä»¥ï¼š

- å¯ç”¨æˆ–ç¦ç”¨ä¸ Drizzle Kit çš„è§’è‰²ç®¡ç†ã€‚
- æ’é™¤ç‰¹å®šè§’è‰²ä¸è¢« Drizzle Kit ç®¡ç†ã€‚
- åŒ…å«ç‰¹å®šè§’è‰²ä»¥ä¾› Drizzle Kit ç®¡ç†ã€‚
- ä¸ºåƒ `Neon` å’Œ `Supabase` è¿™æ ·çš„æä¾›è€…å¯ç”¨æ¨¡å¼ï¼Œè¿™äº›æä¾›è€…ä¸ç®¡ç†å…¶ç‰¹å®šè§’è‰²ã€‚
- ç»„åˆä¸Šè¿°æ‰€æœ‰é€‰é¡¹ã€‚

|               |                       |
| :------------ | :-----------------    |
| type          | `boolean \| { provider: "neon" \| "supabase", include: string[], exclude: string[]}`|
| default       | `false`                  |
| commands      | `push` `pull` `generate` |

<rem025/>

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`drizzle-kit` ä¸ä¼šä¸ºæ‚¨ç®¡ç†è§’è‰²ï¼Œå› æ­¤æ‚¨éœ€è¦åœ¨ `drizzle.config.ts` ä¸­å¯ç”¨è¯¥åŠŸèƒ½ã€‚
```ts
export default defineConfig({
  dialect: "postgresql",
  extensionsFilters: entities: {
    roles: true
  }
});
```

**æ‚¨æœ‰ä¸€ä¸ªè§’è‰² `admin`ï¼Œå¹¶å¸Œæœ›å°†å…¶æ’é™¤åœ¨å¯ç®¡ç†è§’è‰²åˆ—è¡¨ä¹‹å¤–**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      exclude: ['admin']
    }
  }
});
```

**æ‚¨æ‹¥æœ‰ä¸€ä¸ªè§’è‰² `admin`ï¼Œå¹¶å¸Œæœ›å°†å…¶åŒ…å«åœ¨å¯ç®¡ç†è§’è‰²çš„åˆ—è¡¨ä¸­**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      include: ['admin']
    }
  }
});
```

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ `Neon` å¹¶å¸Œæœ›æ’é™¤ç”± `Neon` å®šä¹‰çš„è§’è‰²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æä¾›è€…é€‰é¡¹ã€‚

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      provider: 'neon'
    }
  }
});
```

**å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ `Supabase` å¹¶å¸Œæœ›æ’é™¤ç”± `Supabase` å®šä¹‰çš„è§’è‰²ï¼Œå¯ä»¥ä½¿ç”¨æä¾›è€…é€‰é¡¹**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      provider: 'supabase'
    }
  }
});
```

<Callout title='important'>
æ‚¨å¯èƒ½ä¼šé‡åˆ° Drizzle ç›¸å¯¹äºæ•°æ®åº“æä¾›è€…æŒ‡å®šçš„æ–°è§’è‰²ç•¥æ˜¾è¿‡æ—¶çš„æƒ…å†µï¼Œ
å› æ­¤æ‚¨å¯èƒ½éœ€è¦åŒæ—¶ä½¿ç”¨ `provider` é€‰é¡¹å’Œ `exclude` é™„åŠ è§’è‰²ã€‚æ‚¨å¯ä»¥è½»æ¾åœ°ä½¿ç”¨ Drizzle æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      provider: 'supabase',
      exclude: ['new_supabase_role']
    }
  }
});
```
</Callout>

## ---

### `strict`
<rem025/>

åœ¨è¿è¡Œ `drizzle-kit push` å‘½ä»¤æ—¶æç¤ºç¡®è®¤æ‰§è¡Œæ‰“å°çš„ SQL è¯­å¥ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `boolean` |
| é»˜è®¤       | `false`                    |
| å‘½ä»¤      | `push`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  breakpoints: false,
});
```

### `verbose`
<rem025/>

åœ¨ `drizzle-kit push` å‘½ä»¤æœŸé—´æ‰“å°æ‰€æœ‰ SQL è¯­å¥ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `boolean` |
| é»˜è®¤       | `true`                    |
| å‘½ä»¤      | `generate` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  breakpoints: false,
});
```

### `breakpoints`
<rem025/>

Drizzle Kit å°†è‡ªåŠ¨åœ¨ç”Ÿæˆçš„ SQL è¿ç§»æ–‡ä»¶ä¸­åµŒå…¥ `--> statement-breakpoint`ï¼Œ
è¿™å¯¹äºä¸æ”¯æŒåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­è¿›è¡Œå¤šä¸ª DDL æ›´æ”¹è¯­å¥çš„æ•°æ®åº“ï¼ˆMySQL å’Œ SQLiteï¼‰æ˜¯å¿…è¦çš„ã€‚

`breakpoints` é€‰é¡¹æ ‡å¿—å…è®¸æ‚¨å¼€å…³æ­¤åŠŸèƒ½ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `boolean` |
| é»˜è®¤       | `true`                    |
| å‘½ä»¤      | `generate` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  breakpoints: false,
});
```