import CodeTab from '@components/markdown/CodeTab.astro';
import CodeTabs from '@components/markdown/CodeTabs.astro';
import Section from '@components/markdown/Section.astro';
import Tab from '@components/markdown/Tab.astro';
import Tabs from '@components/markdown/Tabs.astro';
import Callout from '@components/markdown/Callout.astro';
import Button from '@components/markdown/Button.astro';
import Npm from '@components/markdown/Npm.astro';
import Npx from '@components/markdown/Npx.astro';
import Steps from '@components/markdown/Steps.astro';
import Prerequisites from "@mdx/Prerequisites.astro"

# 使用 Drizzle Kit 的迁移
<Prerequisites>
- 开始使用 Drizzle 和 `drizzle-kit` - [阅读这里](/docs/get-started)
- Drizzle schema 基础知识 - [阅读这里](/docs/sql-schema-declaration)
- 数据库连接基础 - [阅读这里](/docs/connect-overview)
- Drizzle 迁移基础 - [阅读这里](/docs/migrations)
- Drizzle Kit [概述](/docs/kit-overview) 和 [配置文件](/docs/drizzle-config-file)
- `drizzle-kit generate` 命令 - [阅读这里](/docs/drizzle-kit-generate)
- `drizzle-kit migrate` 命令 - [阅读这里](/docs/drizzle-kit-migrate)
</Prerequisites>

Drizzle 允许你生成空的迁移文件，以编写自定义的 SQL 迁移，
用于目前不支持的 DDL 修改或数据预填充，你可以使用 [`drizzle-kit migrate`](/docs/drizzle-kit-migrate) 命令来运行这些迁移。

```shell
drizzle-kit generate --custom --name=seed-users
```
<Section>
```plaintext {5}
📦 <项目根目录>
 ├ 📂 drizzle
 │ ├ 📂 _meta
 │ ├ 📜 0000_init.sql 
 │ └ 📜 0001_seed-users.sql 
 ├ 📂 src
 └ …
```
```sql
-- ./drizzle/0001_seed-users.sql

INSERT INTO "users" ("name") VALUES('Dan');
INSERT INTO "users" ("name") VALUES('Andrew');
INSERT INTO "users" ("name") VALUES('Dandrew');
```
</Section>

### 运行 JavaScript 和 TypeScript 迁移
我们将在即将发布的版本中添加运行自定义 JavaScript 和 TypeScript 迁移/填充脚本的能力，你可以关注 [GitHub 讨论](https://github.com/drizzle-team/drizzle-orm/discussions/2832)。