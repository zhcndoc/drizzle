import CodeTab from '@mdx/CodeTab.astro';
import CodeTabs from '@mdx/CodeTabs.astro';
import Section from '@mdx/Section.astro';
import Tab from '@mdx/Tab.astro';
import Tabs from '@mdx/Tabs.astro';
import Callout from '@mdx/Callout.astro';
import Npm from '@mdx/Npm.astro';
import Npx from '@mdx/Npx.astro';
import Steps from '@mdx/Steps.astro';
import Prerequisites from "@mdx/Prerequisites.astro"

# ä½¿ç”¨ Drizzle Kit è¿›è¡Œè¿ç§»
<Prerequisites>
- å¼€å§‹ä½¿ç”¨ Drizzle å’Œ `drizzle-kit` - [ç‚¹å‡»è¿™é‡Œé˜…è¯»](/docs/get-started)
- Drizzle æ¶æ„åŸºç¡€ - [ç‚¹å‡»è¿™é‡Œé˜…è¯»](/docs/sql-schema-declaration)
- æ•°æ®åº“è¿æ¥åŸºç¡€ - [ç‚¹å‡»è¿™é‡Œé˜…è¯»](/docs/connect-overview)
- Drizzle è¿ç§»åŸºç¡€ - [ç‚¹å‡»è¿™é‡Œé˜…è¯»](/docs/migrations)
</Prerequisites>


**Drizzle Kit** æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† SQL æ•°æ®åº“è¿ç§»çš„ CLI å·¥å…·ã€‚
<Npm>
  -D drizzle-kit
</Npm>
<Callout type="warning">
ç¡®ä¿é¦–å…ˆé˜…è¯» Drizzle çš„ [å…¥é—¨æŒ‡å—](/docs/get-started) å’Œ [è¿ç§»åŸºç¡€](/docs/migrations)ï¼Œå¹¶é€‰æ‹©æœ€é€‚åˆæ‚¨ä¸šåŠ¡éœ€æ±‚çš„ SQL è¿ç§»æµç¨‹ã€‚
</Callout>

æ ¹æ®æ‚¨çš„æ¶æ„ï¼ŒDrizzle Kit è®©æ‚¨ç”Ÿæˆå’Œè¿è¡Œ SQL è¿ç§»æ–‡ä»¶ï¼Œ
ç›´æ¥å°†æ¶æ„æ¨é€åˆ°æ•°æ®åº“ï¼Œä»æ•°æ®åº“ä¸­æå–æ¶æ„ï¼Œå¯åŠ¨ Drizzle Studioï¼Œå¹¶å…·æœ‰ä¸€äº›å®ç”¨å‘½ä»¤ã€‚
<Npx>
drizzle-kit generate
drizzle-kit migrate
drizzle-kit push
drizzle-kit pull
drizzle-kit check
drizzle-kit up
drizzle-kit studio
</Npx>


|                                                      |                                                                                                                                                                    |
| :--------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`drizzle-kit generate`](/docs/drizzle-kit-generate) | è®©æ‚¨æ ¹æ® Drizzle æ¶æ„ç”Ÿæˆ SQL è¿ç§»æ–‡ä»¶ï¼Œæ— è®ºæ˜¯å£°æ˜æ—¶è¿˜æ˜¯åç»­æ›´æ”¹æ—¶ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-generate)ã€‚       |
| [`drizzle-kit migrate`](/docs/drizzle-kit-migrate)   | è®©æ‚¨å°†ç”Ÿæˆçš„ SQL è¿ç§»æ–‡ä»¶åº”ç”¨åˆ°æ‚¨çš„æ•°æ®åº“ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-migrate)ã€‚                                                              |
| [`drizzle-kit pull`](/docs/drizzle-kit-pull)         | è®©æ‚¨æå–ï¼ˆå†…çœï¼‰æ•°æ®åº“æ¶æ„ï¼Œå°†å…¶è½¬æ¢ä¸º Drizzle æ¶æ„å¹¶ä¿å­˜åœ¨æ‚¨çš„ä»£ç åº“ä¸­ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-pull)ã€‚                           |
| [`drizzle-kit push`](/docs/drizzle-kit-push)         | è®©æ‚¨åœ¨å£°æ˜æˆ–åç»­æ¶æ„æ›´æ”¹æ—¶å°† Drizzle æ¶æ„æ¨é€åˆ°æ•°æ®åº“ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-push)ã€‚                          |
| [`drizzle-kit studio`](/docs/drizzle-kit-studio)     | å°†è¿æ¥åˆ°æ‚¨çš„æ•°æ®åº“å¹¶ä¸º Drizzle Studio å¯åŠ¨ä»£ç†æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ–¹ä¾¿åœ°æµè§ˆæ•°æ®åº“ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-studio)ã€‚ |
| [`drizzle-kit check`](/docs/drizzle-kit-check)       | å°†éå†æ‰€æœ‰ç”Ÿæˆçš„è¿ç§»å¹¶æ£€æŸ¥ç”Ÿæˆçš„è¿ç§»æ˜¯å¦å­˜åœ¨ç«æ€æ¡ä»¶ï¼ˆå†²çªï¼‰ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-check)ã€‚               |
| [`drizzle-kit up`](/docs/drizzle-kit-up)             | ç”¨äºå‡çº§ä¹‹å‰ç”Ÿæˆçš„è¿ç§»å¿«ç…§ï¼Œ[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹](/docs/drizzle-kit-up)                                                                     |
<br/>

Drizzle Kit é€šè¿‡ [drizzle.config.ts](/docs/drizzle-config-file) é…ç½®æ–‡ä»¶æˆ– CLI å‚æ•°è¿›è¡Œé…ç½®ã€‚<br/>
è‡³å°‘éœ€è¦æä¾› SQL `dialect` å’Œ `schema` è·¯å¾„ï¼Œä»¥ä¾¿ Drizzle Kit çŸ¥é“å¦‚ä½•ç”Ÿæˆè¿ç§»ã€‚
```
ğŸ“¦ <é¡¹ç›®æ ¹ç›®å½•>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle.config.ts  <--- Drizzle é…ç½®æ–‡ä»¶
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

<CodeTabs items={["ç®€å•é…ç½®", "æ‰©å±•é…ç½®"]}>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
});
```
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  out: "./drizzle",
  dialect: "postgresql",
  schema: "./src/schema.ts",

  driver: "pglite",
  dbCredentials: {
    url: "./database/",
  },

  extensionsFilters: ["postgis"],
  schemaFilter: "public",
  tablesFilter: "*",

  introspect: {
    casing: "camel",
  },

  migrations: {
    prefix: "timestamp",
    table: "__drizzle_migrations__",
    schema: "public",
  },

  breakpoints: true,
  strict: true,
  verbose: true,
});
```
</CodeTabs>

æ‚¨å¯ä»¥é€šè¿‡ CLI å‚æ•°æä¾› Drizzle Kit é…ç½®è·¯å¾„ï¼Œè¿™åœ¨æ‚¨æœ‰å¤šä¸ªæ•°æ®åº“é˜¶æ®µæˆ–å¤šä¸ªæ•°æ®åº“ï¼Œæˆ–åŒä¸€é¡¹ç›®ä¸­æœ‰ä¸åŒæ•°æ®åº“æ—¶éå¸¸æœ‰ç”¨ï¼š

<Npx>
  drizzle-kit push --config=drizzle-dev.drizzle.config
  drizzle-kit push --config=drizzle-prod.drizzle.config
</Npx>
```plaintext {5-6}
ğŸ“¦ <é¡¹ç›®æ ¹ç›®å½•>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```
