import Callout from '@mdx/Callout.astro';

# 生成器

## ---

### `default`

<rem025 />
每次调用生成器时都会生成相同的给定值。

|  | param          | default     | type
|:-| :--------      | :--------   | :--------
|  |`defaultValue`  |--           |`any`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  posts: {
    columns: {
      content: funcs.default({
        // 要生成的值
        defaultValue: "帖子内容" 
      }),
    },
  },
}));

```

### `valuesFromArray`

<rem025 />
从给定数组生成值。

|  | param      | default                   | type
|:-| :--------  | :--------                 | :--------
|  |`values`    |--                         |`any[]` \| `{ weight: number; values: any[] }[]`
|  |`isUnique`  |数据库列唯一性           |`boolean`


<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  posts: {
    columns: {
      title: funcs.valuesFromArray({
        // 要生成的值的数组（可以是加权值的数组）
        values: ["标题1", "标题2", "标题3", "标题4", "标题5"],

        // 控制生成的值是否唯一的属性
        isUnique: true,
      }),
    },
  },
}));

```

### `intPrimaryKey`

<rem025 />
生成从1开始的连续整数。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  posts: {
    columns: {
      id: funcs.intPrimaryKey(),
    },
  },
}));

```

### `number`

<rem025 />
生成给定范围内的小数。

|  | param      | default                                                                                               | type
|:-| :--------  | :--------                                                                                             | :--------
|  |`isUnique`  |数据库列唯一性                                                                                         |`boolean`
|  |`precision` |`100`                                                                                                  |`number`
|  |`maxValue`  |``` `precision * 1000` 如果 isUnique 等于 false``` ``` `precision * count` 如果 isUnique 等于 true```  |`number`
|  |`minValue`  |`-maxValue`                                                                                            |`number`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  products: {
    columns: {
      unitPrice: funcs.number({
        // 范围的下边界。
        minValue: 10,

        // 范围的上边界。
        maxValue: 120,
        
        // 生成数字的精度：
        // 精度等于10表示值精确到十分之一 (1.2, 34.6);
        // 精度等于100表示值精确到百分之一 (1.23, 34.67)。
        precision: 100,

        // 控制生成的值是否唯一的属性。
        isUnique: false,
      }),
    },
  },
}));

```

### `int`

<rem025 />
生成给定范围内的整数。

|  | param      | default                                                                            | type
|:-| :--------  | :--------                                                                          | :--------
|  |`isUnique`  |数据库列唯一性                                                                      |`boolean`
|  |`maxValue`  |``` `1000` 如果 isUnique 等于 false``` ``` `count * 10` 如果 isUnique 等于 true```  |`number \| bigint`
|  |`minValue`  |`-maxValue`                                                                         |`number \| bigint`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  products: {
    columns: {
      unitsInStock: funcs.int({
        // 范围的下边界。
        minValue: 0,

        // 范围的上边界。
        maxValue: 100,

        // 控制生成的值是否唯一的属性。
        isUnique: false,
      }),
    },
  },
}));

```

### `uuid`

<rem025 />
生成 v4 UUID 字符串。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  products: {
    columns: {
      id: funcs.uuid(),
    },
  },
}));

```

### `boolean`

<rem025 />
生成布尔值（真或假）。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      isAvailable: funcs.boolean(),
    },
  },
}));

```

### `date`

<rem025 />
生成给定范围内的日期。

|  | param      | default                                                     | type
|:-| :--------  | :--------------                                                   | :--------
|  |`minDate`   |`new Date('2020-05-08')` | `string \| Date`
|  |`maxDate`   |`new Date('2028-05-08')` | `string \| Date`

<Callout type='warning'>
如果只提供一个参数（`minDate` 或 `maxDate`），则未指定的参数将通过在指定日期上添加或减少8年来计算。
</Callout>

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      birthDate: funcs.date({
        // 范围的下边界。
        minDate: "1990-01-01",

        // 范围的上边界。
        maxDate: "2010-12-31" 
      }),
    },
  },
}));

```

### `time`

<rem025 />
生成24小时格式的时间。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      birthTime: funcs.time(),
    },
  },
}));

```

### `timestamp`

<rem025 />
生成时间戳。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  orders: {
    columns: {
      shippedDate: funcs.timestamp(),
    },
  },
}));

```

### `datetime`

<rem025 />
生成日期时间对象。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--
<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  orders: {
    columns: {
      shippedDate: funcs.datetime(),
    },
  },
}));

```

### `year`

<rem025 />
生成 `YYYY` 格式的年份。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      birthYear: funcs.year(),
    },
  },
}));

```

### `json`

<rem025 />
生成具有固定结构的 JSON 对象。

```ts
{ email, name, isGraduated, hasJob, salary, startedWorking, visitedCountries}

// 或

{ email, name, isGraduated, hasJob, visitedCountries }
```

> JSON 结构将随机选择。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      metadata: funcs.json(),
    },
  },
}));

```

### `interval`

<rem025 />
生成时间间隔。

生成值示例： `1 year 12 days 5 minutes`

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | 列的唯一性  |`boolean`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      timeSpentOnWebsite: funcs.interval({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: true
      }),
    },
  },
}));

```

### `string`

<rem025 />
生成随机字符串。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      hashedPassword: funcs.string({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: false 
      }),
    },
  },
}));

```

### `firstName`

<rem025 />
生成一个人的名字。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      firstName: funcs.firstName({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: true 
      }),
    },
  },
}));

```

### `lastName`

<rem025 />
生成一个人的姓氏。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      lastName: funcs.lastName({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: false 
      }),
    },
  },
}));

```

### `fullName`

<rem025 />
生成一个人的全名。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      fullName: funcs.fullName({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: true 
      }),
    },
  },
}));

```

### `email`

<rem025 />
生成唯一的电子邮件地址。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />
```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      email: funcs.email(),
    },
  },
}));

```

### `phoneNumber`

<rem025 />
生成唯一的电话号码。

|  | param                    | default                                         | type
|:-| :--------                | :--------                                       | :--------
|  |`template`                |--                                               |`string`
|  |`prefixes`                |[用于前缀的已用数据集](https://github.com/OleksiiKH0240/drizzle-orm/blob/main/drizzle-seed/src/datasets/phonesInfo.ts)   |`string[]`
|  |`generatedDigitsNumbers`  | `7` - `如果定义了前缀`            |`number \| number[]`

<rem025 />
```ts 
import { seed } from "drizzle-seed";

//使用模板属性生成电话号码
await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      phoneNumber: funcs.phoneNumber({ 
        // `template` - 电话号码模板，在这里所有的 '#' 符号将被生成的数字替换。
        template: "+(380) ###-####" 
      }),
    },
  },
}));

```
```ts 
import { seed } from "drizzle-seed";

//使用前缀和 generatedDigitsNumbers 属性生成电话号码。
await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      phoneNumber: funcs.phoneNumber({
        // `prefixes` - 你想要作为电话号码前缀的任何字符串数组（与 `template` 属性不兼容）。
        prefixes: ["+380 99", "+380 67"],

        // `generatedDigitsNumbers` - 将添加到前缀后的数字数量（与 `template` 属性不兼容）。
        generatedDigitsNumbers: 7,
      }),
    },
  },
}));

```
```ts 
import { seed } from "drizzle-seed";

//使用前缀和 generatedDigitsNumbers 属性生成电话号码，但为前缀使用不同的 generatedDigitsNumbers。
await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      phoneNumber: funcs.phoneNumber({
        // `prefixes` - 你想要作为电话号码前缀的任何字符串数组（与 `template` 属性不兼容）。
        prefixes: ["+380 99", "+380 67", "+1"],

        // `generatedDigitsNumbers` - 将添加到前缀后的数字数量（与 `template` 属性不兼容）。
        generatedDigitsNumbers: [7, 7, 10],
      }),
    },
  },
}));

```
### `country`

<rem025 />
生成国家名称。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      country: funcs.country({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: false 
      }),
    },
  },
}));

```

### `city`

<rem025 />
生成城市名称。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      city: funcs.city({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: false 
      }),
    },
  },
}));

```

### `streetAddress`

<rem025 />
生成街道地址。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      streetAddress: funcs.streetAddress({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: false 
      }),
    },
  },
}));

```

### `jobTitle`

<rem025 />
生成职位名称。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      jobTitle: funcs.jobTitle(),
    },
  },
}));

```

### `postcode`

<rem025 />
生成邮政编码。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      postcode: funcs.postcode({
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: true 
      }),
    },
  },
}));

```

### `state`

<rem025 />
生成美国州名。

|  | param      | default    | type
|:-| :--------  | :--------  | :--------
|  |--          |--          |--

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      state: funcs.state(),
    },
  },
}));

```

### `companyName`

<rem025 />
生成随机公司的名称。

|  | param      | default                    | type
|:-| :--------  | :--------                  | :--------
|  |`isUnique`  | -  |`boolean`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  users: {
    columns: {
      company: funcs.companyName({ 
        // `isUnique` - 控制生成的值是否唯一的属性
        isUnique: true 
      }),
    },
  },
}));

```
### `loremIpsum`

<rem025 />
生成 `lorem ipsum` 文本句子。

|  | param            | default    | type
|:-| :--------        | :--------  | :--------
|  |`sentencesCount`  | 1           |`number`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  posts: {
    columns: {
      content: funcs.loremIpsum({
        // `sentencesCount` - 作为一个生成值（字符串）想要生成的句子数量。
        sentencesCount: 2 
      }),
    },
  },
}));

```

### `point`

<rem025 />
生成指定范围内的二维点，用于 x 和 y 坐标。

|  | param       | default                                                                                 | type
|:-| :--------   | :--------                                                                               | :--------
|  |`isUnique`   |数据库列唯一性                                                                           |`boolean`
|  |`maxXValue`  |``` `10 * 1000` 如果 isUnique 等于 false``` ``` `10 * count` 如果 isUnique 等于 true```  |`number`
|  |`minXValue`  |`-maxXValue`                                                                             |`number`
|  |`maxYValue`  |``` `10 * 1000` 如果 isUnique 等于 false``` ``` `10 * count` 如果 isUnique 等于 true```  |`number`
|  |`minYValue`  |`-maxYValue`                                                                             |`number`

<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  triangles: {
    columns: {
      pointCoords: funcs.point({
        // `isUnique` - 控制生成的值是否唯一的属性。
        isUnique: true,

        // `minXValue` - x 坐标的范围下限。
        minXValue: -5,

        // `maxXValue` - x 坐标的范围上限。
        maxXValue: 20,

        // `minYValue` - y 坐标的范围下限。
        minYValue: 0,

        // `maxYValue` - y 坐标的范围上限。
        maxYValue: 30,
      }),
    },
  },
}));

```

### `line`

<rem025 />
生成指定范围内的二维线，用于线的 a、b 和 c 参数。

```
线性方程： a*x + b*y + c = 0
```

|  | param       | default                                                                                 | type
|:-| :--------   | :--------                                                                               | :--------
|  |`isUnique`   |数据库列唯一性                                                                           |`boolean`
|  |`maxAValue`  |``` `10 * 1000` 如果 isUnique 等于 false``` ``` `10 * count` 如果 isUnique 等于 true```  |`number`
|  |`minAValue`  |`-maxAValue`                                                                             |`number`
|  |`maxBValue`  |``` `10 * 1000` 如果 isUnique 等于 false``` ``` `10 * count` 如果 isUnique 等于 true```  |`number`
|  |`minBValue`  |`-maxBValue`                                                                             |`number`
|  |`maxCValue`  |``` `10 * 1000` 如果 isUnique 等于 false``` ``` `10 * count` 如果 isUnique 等于 true```  |`number`
|  |`minCValue`  |`-maxCValue`                                                                             |`number`
<rem025 />

```ts 
import { seed } from "drizzle-seed";

await seed(db, schema, { count: 1000 }).refine((funcs) => ({
  lines: {
    columns: {
      lineParams: funcs.point({
        // `isUnique` - 控制生成的值是否唯一的属性。
        isUnique: true,

        // `minAValue` - a 参数的范围下限。
        minAValue: -5,

        // `maxAValue` - a 参数的范围上限。
        maxAValue: 20,

        // `minBValue` - b 参数的范围下限。
        minBValue: 0,

        // `maxBValue` - b 参数的范围上限。
        maxBValue: 30,

        // `minCValue` - c 参数的范围下限。
        minCValue: 0,

        // `maxCValue` - c 参数的范围上限。
        maxCValue: 10,
      }),
    },
  },
}));
