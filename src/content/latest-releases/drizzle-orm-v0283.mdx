---
title: DrizzleORM v0.28.3 å‘å¸ƒ
pubDate: 2023-08-22
description: æ·»åŠ äº† SQLite ç®€åŒ–æŸ¥è¯¢ APIï¼Œä¸ºåˆ—æ„å»ºå™¨å’Œè¡¨æ¨¡å‹ç±»å‹æ¨æ–­æ·»åŠ äº†æ–¹æ³•ã€‚ä¿®å¤äº†å½“ç»“æœä¸ºç©ºæ—¶ï¼Œsqlite-proxy å’Œ SQL.js çš„ '.get()' å“åº”çš„é—®é¢˜ã€‚
---

## ä¿®å¤

- ä¿®å¤äº†å½“ç»“æœä¸ºç©ºæ—¶ï¼Œsqlite-proxy å’Œ SQL.js çš„ '.get()' å“åº”çš„é—®é¢˜

## æ–°åŠŸèƒ½

### ğŸ‰ æ·»åŠ äº† SQLite ç®€åŒ–æŸ¥è¯¢ API

### ğŸ‰ ä¸ºåˆ—æ„å»ºå™¨æ·»åŠ äº† `$defaultFn()` / `$default()` æ–¹æ³•

æ›´å¤šä¿¡æ¯è¯·å‚è€ƒ [PostgreSQL](https://orm.drizzle.team/docs/column-types/pg#default-value)ã€[MySQL](https://orm.drizzle.team/docs/column-types/mysql#default-value) å’Œ [SQLite](https://orm.drizzle.team/docs/column-types/sqlite#default-value) çš„æ–‡æ¡£ã€‚

æ‚¨å¯ä»¥ä¸ºè¿è¡Œæ—¶é»˜è®¤å€¼çš„å‡½æ•°ï¼ˆå¦‚ `cuid()`ï¼‰æŒ‡å®šä»»ä½•é€»è¾‘å’Œä»»ä½•å®ç°ã€‚Drizzle ä¸é™åˆ¶æ‚¨å¯ä»¥æ·»åŠ çš„å®ç°æ•°é‡ã€‚

> æ³¨æ„ï¼šè¯¥å€¼ä¸å½±å“ `drizzle-kit` çš„è¡Œä¸ºï¼Œå®ƒåªåœ¨ `drizzle-orm` çš„è¿è¡Œæ—¶ä½¿ç”¨ã€‚

```ts copy {5}
import { varchar, mysqlTable } from "drizzle-orm/mysql-core";
import { createId } from '@paralleldrive/cuid2';

const table = mysqlTable('table', {
	id: varchar('id', { length: 128 }).$defaultFn(() => createId()),
});
```

### ğŸ‰ æ·»åŠ äº†æ›´æ–¹ä¾¿çš„è¡¨æ¨¡å‹ç±»å‹æ¨æ–­çš„ `table.$inferSelect` / `table._.inferSelect` å’Œ `table.$inferInsert` / `table._.inferInsert`

- ğŸ›  å°† `InferModel` ç±»å‹åºŸå¼ƒï¼Œæ¨èä½¿ç”¨æ›´æ˜ç¡®çš„ `InferSelectModel` å’Œ `InferInsertModel`

```ts copy {11,12,14,15}
import { InferSelectModel, InferInsertModel } from 'drizzle-orm'

const usersTable = pgTable('users', {
  id: serial('id').primaryKey(),
  name: text('name').notNull(),
  verified: boolean('verified').notNull().default(false),
  jsonb: jsonb('jsonb').$type<string[]>(),
  createdAt: timestamp('created_at', { withTimezone: true }).notNull().defaultNow(),
});

type SelectUser = typeof usersTable.$inferSelect;
type InsertUser = typeof usersTable.$inferInsert;

type SelectUser2 = InferSelectModel<typeof usersTable>;
type InsertUser2 = InferInsertModel<typeof usersTable>;
```

- ğŸ›  ç¦ç”¨äº† `.d.ts` æ–‡ä»¶çš„ç»‘å®šã€‚
