import Callout from '@mdx/Callout.astro';

在 `src` 目录下创建一个 `index.ts` 文件并初始化连接：

```typescript copy filename="index.ts"
import { drizzle } from 'drizzle-orm'

async function main() {
    const db = drizzle('postgres-js', process.env.DATABASE_URL);
}

main();
```
如果需要同步连接，可以使用我们的额外连接 API，
在其中指定驱动连接并传入 Drizzle 实例。

```typescript copy filename="index.ts"
import { drizzle } from 'drizzle-orm/postgres-js'
import postgres from 'postgres'

async function main() {
    const client = postgres(process.env.DATABASE_URL)
    const db = drizzle({ client });
}

main();
```

<Callout title='提示'>
如果你决定通过 Supabase 使用连接池（详见 [这里](https://supabase.com/docs/guides/database/connecting-to-postgres#connection-pooler)），且启用了“Transaction”池模式，请确保关闭 prepare，因为预处理语句不被支持。

```typescript copy filename="index.ts"
import { drizzle } from 'drizzle-orm/postgres-js'
import postgres from 'postgres'

async function main() {
    // 由于“Transaction”池模式不支持，需禁用 prepare
    const client = postgres(process.env.DATABASE_URL, { prepare: false })
    const db = drizzle({ client });
}

main();
```
</Callout>