Drizzle Kit 提供了一个 CLI 命令，用于检测你的数据库并生成包含迁移的 schema 文件。该 schema 文件包含了有关数据库表、列、关系和索引的所有信息。

例如，你的数据库中有这样一张表：

```sql copy
CREATE TABLE [users] (
 [id] int,
 [name] varchar(255) NOT NULL,
 [age] int NOT NULL,
 [email] varchar(255) NOT NULL,
 CONSTRAINT [users_pkey] PRIMARY KEY([id]),
 CONSTRAINT [users_email_key] UNIQUE([email])
);
```

拉取你的数据库 schema：

```bash copy
npx drizzle-kit pull --init
```

检测的结果将生成一个 `schema.ts` 文件，一个包含数据库 schema 快照的 `meta` 文件夹，一个包含迁移的 sql 文件，以及用于[关系查询](/docs/rqb)的 `relations.ts` 文件。

下面是生成的 `schema.ts` 文件示例：

```typescript copy filename="src/db/schema.ts"
// 通过检测生成的表 schema
import { mssqlTable, int, varchar, unique, primaryKey } from "drizzle-orm/mssql-core"

export const users = mssqlTable("users", {
 id: int(),
 name: varchar({ length: 255 }).notNull(),
 age: int().notNull(),
 email: varchar({ length: 255 }).notNull(),
}, (table) => [
 primaryKey({ columns: [table.id], name: "users_pkey"}),
 unique("users_email_key").on(table.email)
]);
```

在[文档](/docs/drizzle-kit-pull)中了解更多关于检测的信息。